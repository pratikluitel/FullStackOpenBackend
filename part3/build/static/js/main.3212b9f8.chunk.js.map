{"version":3,"sources":["services/persons.js","Components/SearchFilter.js","Components/Person.js","Components/PersonForm.js","Components/Message.js","App.js","index.js"],"names":["baseUrl","axios","get","then","resp","data","newName","newNumber","post","name","number","id","delete","newPerson","put","SearchFilter","filter","handleNewFilter","value","onChange","Person","person","persons","setPersons","type","onClick","personService","newPersons","PersonForm","setMessage","setError","useState","setNewName","setNewNumber","onSubmit","event","preventDefault","findIndex","concat","window","confirm","editedPerson","catch","err","console","log","target","Message","message","cl","error","setTimeout","className","App","setFilter","useEffect","displayedPersons","length","toLowerCase","includes","map","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3212b9f8.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => axios.get(baseUrl).then((resp) => resp.data);\n\nconst create = (newName, newNumber) =>\n  axios\n    .post(baseUrl, {\n      name: newName,\n      number: newNumber,\n    })\n    .then((resp) => resp.data);\n\nconst deleteOne = (id) =>\n  axios.delete(`${baseUrl}/${id}`).then((resp) => resp.data);\n\nconst edit = (id, newPerson) =>\n  axios.put(`${baseUrl}/${id}`, newPerson).then((resp) => resp.data);\n\nexport default { getAll, create, deleteOne, edit };\n","import React from \"react\";\n\nconst SearchFilter = ({ filter, handleNewFilter }) => (\n  <div>\n    filter shown with <input value={filter} onChange={handleNewFilter}></input>\n  </div>\n);\n\nexport default SearchFilter;\n","import React from \"react\";\nimport personService from \"../services/persons\";\n\nconst Person = ({ person, persons, setPersons }) => {\n  const handleDelete = (id) =>\n    personService.deleteOne(id).then(() => {\n      const newPersons = persons.filter((person) => person.id !== id);\n      setPersons(newPersons);\n    });\n\n  return (\n    <p>\n      {person.name} {person.number}{\" \"}\n      <button type=\"button\" onClick={() => handleDelete(person.id)}>\n        delete\n      </button>\n    </p>\n  );\n};\n\nexport default Person;\n","import React, { useState } from \"react\";\nimport personService from \"../services/persons\";\n\nconst PersonForm = ({ persons, setPersons, setMessage, setError }) => {\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const addNumber = (event) => {\n    event.preventDefault();\n    const id = persons.findIndex((person) => person.name === newName);\n\n    if (id === -1) {\n      personService.create(newName, newNumber).then((person) => {\n        setPersons(persons.concat(person));\n        setError(false);\n        setMessage(`Added ${newName}`);\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    } else if (\n      window.confirm(\n        `${newName} is already added to phonebook. replace the old number with a new one?`\n      )\n    ) {\n      const editedPerson = {\n        ...persons[id],\n        number: newNumber,\n      };\n      personService\n        .edit(id + 1, editedPerson)\n        .then(() => {\n          const newPersons = persons.filter((person) => person.id !== id + 1);\n          setPersons(newPersons.concat(editedPerson));\n          setError(false);\n          setMessage(`Changed ${editedPerson.name}`);\n        })\n        .catch((err) => {\n          setError(true);\n          setMessage(\n            `Information of ${editedPerson.name} has already been removed from the server`\n          );\n          console.log(err);\n        });\n    }\n  };\n\n  return (\n    <form onSubmit={addNumber}>\n      <div>\n        name: <input value={newName} onChange={handleNewName} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={handleNewNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Message = ({ message, setMessage, error }) => {\n  const cl = error ? \"error\" : \"success\";\n  if (message === null) return null;\n  setTimeout(() => setMessage(null), 5000);\n  return <div className={cl}>{message}</div>;\n};\n\nexport default Message;\n","import React, { useState, useEffect } from \"react\";\nimport personService from \"./services/persons\";\nimport SearchFilter from \"./Components/SearchFilter\";\nimport Person from \"./Components/Person\";\nimport PersonForm from \"./Components/PersonForm\";\nimport Message from \"./Components/Message\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState(null);\n  const [filter, setFilter] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    personService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  const handleNewFilter = (event) => {\n    setFilter(event.target.value);\n  };\n\n  const displayedPersons =\n    filter.length === 0\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <SearchFilter filter={filter} handleNewFilter={handleNewFilter} />\n      <Message message={message} setMessage={setMessage} error={error} />\n      <h2>Add a new</h2>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setMessage={setMessage}\n        setError={setError}\n      />\n\n      <h2>Numbers</h2>\n      {displayedPersons.map((person) => (\n        <Person\n          key={person.id}\n          person={person}\n          persons={persons}\n          setPersons={setPersons}\n        />\n      ))}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}